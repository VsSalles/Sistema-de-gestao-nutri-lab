{% extends 'base_plataforma.html' %}
{% load static %}
 
{% block 'head' %}

<link rel="stylesheet" href="{% static 'plataforma/css/css.css' %}">
{% endblock%}


{% block 'plataforma' %}
<div class="container">
    <br>
    <input type="hidden" id="user" value="{{user.id}}">
    <div class="row">

        <div  class="col-md informacoes_basicas">
            
            <h1><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-person-check" viewBox="0 0 16 16">
                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/>
                <path d="M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z"/>
              </svg><span style="margin-left: 20px;">Pacientes:{{qtd_pacientes}}</span></h1> 
            
        </div>

        <div class="col-md informacoes_basicas">
                <h1> <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-bar-chart-fill" viewBox="0 0 16 16">
                    <path d="M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1z"/>
                  </svg><span style="margin-left: 20px;">Consultas:{{qtd_consultas}}</span></h1> 

        </div>

       
    </div>


    <div class="row">
        
        <div class="col-md">
            <br>
            <hr>
            <canvas id="pacientes" width="250" height="200"></canvas>
        </div>
        
        <div class="col-md">
            <br>
            <hr>
            <canvas id="consultas" width="300" height="200"></canvas>
        </div>

    </div>

    <div class="row">
        
        <div class="col-md">
            <br>

            <hr>
            <canvas id="pacientes_objetivos" width="250" height="200"></canvas>
        </div>
        
        <div class="col-md">
            <br>
            <hr>
            <canvas id="consultas_mes" width="250" height="200"></canvas>
        </div>

    </div>

    <div class="row">
        
        <div class="col-md">
            <br>

            <hr>
            <canvas id="pacientes_atv" width="250" height="200"></canvas>
        </div>
        
        <div class="col-md">
            <br>
            <hr>
            <canvas id="consultas_canc" width="250" height="200"></canvas>
        </div>

    </div>


</div>
<br>
<footer class="container">
    <br>
    <br>

  </footer>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'plataforma/js/script.js' %}"></script>


<script>
    window.onload = function(e){
    renderiza_pacientes('http://127.0.0.1:8000/api/plataforma/relatorio_pacientes/')
    renderiza_consultas('http://127.0.0.1:8000/api/plataforma/relatorio_consultas_status/')
    renderiza_consultas_meses('http://127.0.0.1:8000/api/plataforma/relatorio_consultas/')
    renderiza_pacientes_objetivo('http://127.0.0.1:8000/api/plataforma/relatorio_pacientes_objetivos/')
    renderiza_pacientes_atividade('http://127.0.0.1:8000/api/plataforma/relatorio_pacientes_atv/')
    renderiza_consultas_canceladas('http://127.0.0.1:8000/api/plataforma/relatorio_consultas_canceladas/')
    
    }
</script>

{% endblock %}